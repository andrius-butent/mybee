<?xml version="1.0" encoding="UTF-8"?>
<f:Form xmlns="http://www.butent.com/widget"
  xmlns:f="http://www.butent.com/form"
  xmlns:ui="http://www.butent.com/ui"
  
  name="UserSettings" viewName="UserSettings" caption="=userProfile"
  width="700" height="80" heightUnit="%"
  >
  <FlowPanel class="flexBox-vertical">
    <br/>
    <Table>
      <col index="0" kind="label" />
      <col index="2" kind="label" />
      
      <row>
        <Label for="Login" />
        <TextLabel source="Login" class="bee-output" style="min-width: 150px;" />
        <Label text="=company" for="CompanyName" />
        <TextLabel source="CompanyName" class="bee-output" style="min-width: 150px;" />
      </row>

      <row>
        <Label text="=personFullName" for="CompanyPerson" />
        <TextLabel source="CompanyPerson" renderColumns="FirstName Lastname" class="bee-output"
          style="min-width: 150px;" />
        <Label text="=personPosition" for="PositionName" />
        <TextLabel source="PositionName" class="bee-output" style="min-width: 150px;" />
      </row>

      <row data="UserRoles">
        <Label text="=roles" />
        <cell colSpan="3">
          <Label name="UserRoles" class="bee-output" />
        </cell>
      </row>
    </Table>

    <br/>
    <TabbedPages class="flexible">
      <page>
        <text>=feeds</text>
        <ChildGrid class="flexible" name="UserFeeds" source="User" relColumn="User" />
      </page>

      <page module="Mail">
        <text>=mailNotify</text>
        <FlowPanel style="padding-left: 2em;">
          <br/>
          <CheckBox source="MailAssignedTasks" module="Tasks" summarize="true" />
          <br module="Discussions" />
          <br module="Discussions" />
          <CheckBox source="MailNewAnnouncements" module="Discussions" summarize="true" />
          <br module="Discussions" />
          <br module="Discussions" />
          <CheckBox source="MailNewDiscussions" module="Discussions" summarize="true" />

          <br module="Calendar" />
          <br module="Calendar" />
          <Table cellStyle="padding-right: 5px;" module="Calendar">
            <row>
              <CheckBox source="MailCompanyActions" summarize="true" />
            </row>
            <row>
              <Label text="=crmRTRemindBefore" style="text-align: right;" />
              <InputInteger source="CompanyActionRemindBefore" style="width: 50px;">
                <validation>
                  <ui:function>
                    if (cell.newValue > 0 || cell.newValue == null) {
                      return null;
                    } else {
                      return $wnd.Bee_maybeTranslate("=invalidTime") + cell.newValue;
                    }
                  </ui:function>
                </validation>
              </InputInteger>
              <Label text="=unitHourShort" />
            </row>
          </Table>
        </FlowPanel>
      </page>
      
      <page>
        <text>=userInterface</text>
        <FlowPanel style="padding-left: 2em;">
          <br/>
          <CheckBox source="OpenInNewTab" summarize="true" />
          <br/>
          <br/>
          <CheckBox source="WorkspaceContinue" summarize="true" />
          <br/>
          <br/>

          <Table>
            <col index="0" cellStyle="padding-right: 6px;" />
       
            <row>
              <Label for="UiTheme" />
              <DataSelector source="UiTheme" summarize="true" />
            </row>

            <row>
              <Label for="ClickSensitivityMillis" />
              <InputSpinner source="ClickSensitivityMillis" minValue="0" maxValue="1000" step="50"
                style="width: 60px;" summarize="true" />
            </row>
            <row>
              <Label for="ClickSensitivityDistance" />
              <InputSpinner source="ClickSensitivityDistance" minValue="0" maxValue="99"
                style="width: 60px;" summarize="true" />
            </row>
          </Table>
        </FlowPanel>
      </page>

      <page for="Style">
        <text>CSS</text>
        <SimplePanel>
          <InputArea source="Style" class="occupy-1" style="font-family: monospace;" 
            summarize="true" />
        </SimplePanel>
      </page>
    </TabbedPages>     
  </FlowPanel>
</f:Form>  
